"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{54851:(z,S,a)=>{a.r(S),a.d(S,{HomePageModule:()=>R});var x=a(69808),N=a(34182),c=a(54153),_=a(41115),C=a(70655),t=a(6435),k=a(24850),T=a(8929),Z=a(15439),H=a(11423),I=a(33388),A=a(5920),Q=a(72316);const w=["productbtn"];function J(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.checkout())}),t.TgZ(1,"ion-badge",13),t._uU(2),t.qZA(),t._UZ(3,"ion-icon",14),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.numbers)}}function U(o,d){if(1&o&&(t.TgZ(0,"ion-badge",13),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.notifCounts)}}function F(o,d){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,e.UnitPrice,"\u20b1"))}}function G(o,d){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"h5"),t._uU(5),t.ALo(6,"currency"),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij("Small : ",t.xi3(3,2,e.SmallPrice,"\u20b1"),""),t.xp6(3),t.hij("Medium : ",t.xi3(6,5,e.MediumPrice,"\u20b1"),"")}}function $(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t._UZ(1,"img",16),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.YNc(4,F,4,4,"div",17),t.YNc(5,G,7,8,"div",17),t.TgZ(6,"h5")(7,"span",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.Decrease(s))}),t._uU(8," - "),t.qZA(),t._uU(9),t.TgZ(10,"span",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.Increase(s))}),t._uU(11," + "),t.qZA()(),t.TgZ(12,"div",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.AddtoCart(s))}),t.TgZ(13,"ion-button"),t._uU(14,"Add to cart"),t.qZA()(),t.TgZ(15,"div",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.ShowProductDescription(s))}),t.TgZ(16,"ion-button"),t._uU(17,"Description"),t.qZA()()()}if(2&o){const e=d.$implicit;t.xp6(1),t.s9C("src",e.ImageUrl,t.LSH),t.xp6(2),t.Oqu(e.ProductName),t.xp6(1),t.Q6J("ngIf","Milktea"!=e.Category),t.xp6(1),t.Q6J("ngIf","Milktea"==e.Category),t.xp6(4),t.Oqu(e.Quantity)}}const j=[{path:"",component:(()=>{class o{constructor(e,n,i,s,l,b,y,M,O,u,r){this.msg=e,this.alertCtrl=n,this.auth=i,this.afstore=s,this.afauth=l,this.locationStrategy=b,this.router=y,this.applicationRef=M,this.zone=O,this.actRoute=u,this.loadingCtrl=r,this.numbers=0,this.showLog=!1,this.productList=[],this.getCartDetails=[],this.cartItem=0,this.dropdown=!1,this.category="",this.notificationsList=[],this.notifCounts=0,this.unsubscriber=new T.xQ,this.itemsCart=[],y.events.subscribe(()=>{O.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),this.afauth.authState.subscribe(p=>{p&&p.uid&&(this.getAllProducts(),this.notificationsReference=this.afstore.collection(`users/${p.uid}/notifications`),this.sub=this.notificationsReference.snapshotChanges().pipe((0,k.U)(h=>h.map(f=>Object.assign({id:f.payload.doc.id},f.payload.doc.data())))).subscribe(h=>{h=(h=h.map((g,P)=>Object.assign({id:g.id,Datetime:g.Datetime,DatetimeToSort:Z(g.Datetime).toDate(),read:g.read,remarks:g.remarks,Message:g.Message}))).sort((g,P)=>Number(P.DatetimeToSort)-Number(g.DatetimeToSort)),this.notificationsList=h;var f=h.filter(g=>1!=g.read);this.notifCounts=f.length}))})}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),sessionStorage.getItem("cart")}getAllProducts(){this.productReference=this.category?this.afstore.collection("Products",e=>e.where("Category","==",this.category)):this.afstore.collection("Products"),this.sub=this.productReference.snapshotChanges().pipe((0,k.U)(e=>e.map(n=>Object.assign({id:n.payload.doc.id},n.payload.doc.data())))).subscribe(e=>{e=e.sort(function(n,i){return n.ProductName<i.ProductName?-1:n.ProductName>i.ProductName?1:0}),this.productList=e})}SearchCategory(){return(0,C.__awaiter)(this,void 0,void 0,function*(){var e=this.alertCtrl.create({header:"Choose Category",inputs:[{type:"radio",label:"--SHOW ALL--",value:""},{type:"radio",label:"Frappe",value:"Frappe"},{type:"radio",label:"Milktea",value:"Milktea"},{type:"radio",label:"Noodles",value:"Noodles"},{type:"radio",label:"Pares",value:"Pares"},{type:"radio",label:"Platters",value:"Platters"},{type:"radio",label:"Shakes",value:"Shakes"},{type:"radio",label:"Silog Meals",value:"Silog Meals"},{type:"radio",label:"Sizzling Meal W Rice",value:"Sizzling Meal With Rice"},{type:"radio",label:"Snacks",value:"Snacks"},{type:"radio",label:"Rice Meal",value:"Rice Meal"},{type:"radio",label:"Extras",value:"Extras"}],buttons:[{text:"Search",handler:n=>{this.category=n,this.loadProducts(),setTimeout(()=>{this.getAllProducts()},500)}},{text:"Close",role:"cancel"}]});(yield e).present()})}loadProducts(){return(0,C.__awaiter)(this,void 0,void 0,function*(){var e=yield this.loadingCtrl.create({message:"Loading...",spinner:"bubbles"});yield e.present(),setTimeout(()=>{e.dismiss()},300)})}loadCart(){if(null!=sessionStorage.getItem("cart")){var e=[];e.push(JSON.parse(sessionStorage.getItem("cart"))),this.numbers=e[0].length}else this.numbers=0}Increase(e){e.Quantity+=1,this.loadCart()}Decrease(e){1==e.Quantity?this.alertCtrl.create({message:"Quantity should not be zero",buttons:[{text:"Ok",role:"cancel"}]}).then(n=>{n.present(),this.loadCart()}):(e.Quantity-=1,this.loadCart())}cartItemFunc(){var e=JSON.parse(sessionStorage.getItem("cart"));this.cartItem=e.length,this.msg.cartSubject.next(this.cartItem)}checkout(){this.router.navigateByUrl("/editinfo/forcheckout")}hideDropdown(e){const n=e.clientX,i=e.clientY,s=this.productbtn.nativeElement.getBoundingClientRect();(n<s.left+2||n>s.right-2||i<s.top+2)&&(this.dropdown=!1)}parseToFloat(e){return parseFloat(e).toFixed(2)}AddtoCart(e){return(0,C.__awaiter)(this,void 0,void 0,function*(){var n=sessionStorage.getItem("cart");let i=[];if(null==n)if("Milktea"==e.Category){var s=yield this.alertCtrl.create({header:"Please choose a size",inputs:[{type:"radio",label:"Small",value:"Small"},{type:"radio",label:"Medium",value:"Medium"}],buttons:[{text:"Go",handler:u=>(0,C.__awaiter)(this,void 0,void 0,function*(){if(null==u||null==u||""==u){var r=yield this.alertCtrl.create({message:"No size selected",buttons:[{text:"Ok",role:"cancel"}]});yield r.present()}else{var p=this.AddtoCartObject(e,u,"");i.push(p),sessionStorage.setItem("cart",JSON.stringify(i)),e.Quantity=1,this.loadCart()}})},{text:"Close",role:"cancel"}]});yield s.present()}else if("Snacks"!=e.Category||"Fries"!=e.ProductName&&"Chicken Fingers"!=e.ProductName){var b=this.AddtoCartObject(e,"","");i.push(b),sessionStorage.setItem("cart",JSON.stringify(i)),e.Quantity=1}else{var l=yield this.alertCtrl.create({header:"Please choose a flavor",inputs:[{type:"radio",label:"Cheese",value:"Cheese"},{type:"radio",label:"Sour Cream",value:"Sour Cream"},{type:"radio",label:"Bbq",value:"Bbq"}],buttons:[{text:"Go",handler:u=>(0,C.__awaiter)(this,void 0,void 0,function*(){if(null==u||""==u||null==u){var r=yield this.alertCtrl.create({message:"No flavor selected",buttons:[{text:"Ok",role:"cancel"}]});yield r.present()}else{var p=this.AddtoCartObject(e,"",u);i.push(p),sessionStorage.setItem("cart",JSON.stringify(i)),e.Quantity=1,this.loadCart()}})},{text:"Close",role:"cancel"}]});yield l.present()}else if("Milktea"==e.Category)s=yield this.alertCtrl.create({header:"Please choose a size",inputs:[{type:"radio",label:"Small",value:"Small"},{type:"radio",label:"Medium",value:"Medium"}],buttons:[{text:"Go",handler:r=>(0,C.__awaiter)(this,void 0,void 0,function*(){if(""==r||null==r||null==r){var p=yield this.alertCtrl.create({message:"No size selected",buttons:[{text:"Ok",role:"cancel"}]});yield p.present()}else{var h=e.id;let v=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let m=0;m<this.itemsCart.length;m++)if(h==this.itemsCart[m].id&&this.itemsCart[m].ProductName==`${e.ProductName} ${r}`){this.itemsCart[m].Quantity=e.Quantity,e.Quantity=1,v=m;break}if(-1==v){if(JSON.parse(n).length>=10){var g=yield this.alertCtrl.create({message:"Orders should be 10 maximum.",buttons:[{text:"Ok",role:"cancel"}]});yield g.present()}else{var P=this.AddtoCartObject(e,r,"");this.itemsCart.push(P),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart))}e.Quantity=1}else sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),e.Quantity=1;e.Quantity=1,this.loadCart()}})},{text:"Close",role:"cancel"}]}),yield s.present();else if("Snacks"!=e.Category||"Fries"!=e.ProductName&&"Chicken Fingers"!=e.ProductName){var y=e.id;let u=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let r=0;r<this.itemsCart.length;r++)if(y==this.itemsCart[r].id&&this.itemsCart[r].ProductName==e.ProductName){this.itemsCart[r].Quantity=e.Quantity,e.Quantity=1,u=r;break}if(-1==u){if(JSON.parse(n).length>=10){var O=yield this.alertCtrl.create({message:"Orders should be 10 maximum.",buttons:[{text:"Ok",role:"cancel"}]});yield O.present()}else b=this.AddtoCartObject(e,"",""),this.itemsCart.push(b),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart));e.Quantity=1}else sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),e.Quantity=1}else l=yield this.alertCtrl.create({header:"Please choose a flavor",inputs:[{type:"radio",label:"Cheese",value:"Cheese"},{type:"radio",label:"Sour Cream",value:"Sour Cream"},{type:"radio",label:"Bbq",value:"Bbq"}],buttons:[{text:"Go",handler:r=>(0,C.__awaiter)(this,void 0,void 0,function*(){if(null==r||""==r||null==r){var p=yield this.alertCtrl.create({message:"No flavor selected",buttons:[{text:"Ok",role:"cancel"}]});yield p.present()}else{var h=e.id;let v=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let m=0;m<this.itemsCart.length;m++)if(h==this.itemsCart[m].id&&this.itemsCart[m].ProductName==`${e.ProductName} ${r}`){this.itemsCart[m].Quantity=e.Quantity,e.Quantity=1,v=m;break}if(-1==v){if(JSON.parse(n).length>=10){var g=yield this.alertCtrl.create({message:"Orders should be 10 maximum.",buttons:[{text:"Ok",role:"cancel"}]});yield g.present()}else{var P=this.AddtoCartObject(e,"",r);this.itemsCart.push(P),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart))}e.Quantity=1}else sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),e.Quantity=1;e.Quantity=1,this.loadCart()}})},{text:"Close",role:"cancel"}]}),yield l.present();this.loadCart()})}AddtoCartObject(e,n,i){return Object.assign({},e,{Category:e.Category,Description:e.Description,GramsPerOrder:"Milktea"!=e.Category||"Snacks"==e.Category?e.GramsPerOrder:"Small"==n?e.GramsPerOderSmall:e.GramsPerOderMedium,ImageUrl:e.ImageUrl,ProductName:"Milktea"!=e.Category?"Fries"==e.ProductName||"Chicken Fingers"==e.ProductName?`${e.ProductName} ${i}`:e.ProductName:`${e.ProductName} ${n}`,Quantity:e.Quantity,Stock:e.Stock,UnitPrice:"Milktea"!=e.Category||"Snacks"==e.Category?e.UnitPrice:"Small"==n?e.SmallPrice:e.MediumPrice,id:e.id})}ProductDetails(e){return(0,C.__awaiter)(this,void 0,void 0,function*(){yield this.router.navigateByUrl(`details/${e}`)})}close(){this.modal.dismiss()}ShowProductDescription(e){return(0,C.__awaiter)(this,void 0,void 0,function*(){var n=yield this.alertCtrl.create({header:`${e.ProductName}`,subHeader:`${e.Description}`,message:`<img src="${e.ImageUrl}" style="height: 30%;">`,buttons:[{text:"Exit",role:"cancel"}]});yield n.present()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(H.g),t.Y36(c.Br),t.Y36(I.u),t.Y36(A.ST),t.Y36(Q.zQ),t.Y36(x.S$),t.Y36(_.F0),t.Y36(t.z2F),t.Y36(t.R0b),t.Y36(_.gz),t.Y36(c.HT))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],viewQuery:function(e,n){if(1&e&&(t.Gf(w,5,t.SBq),t.Gf(c.ki,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.productbtn=i.first),t.iGM(i=t.CRH())&&(n.modal=i.first)}},inputs:{title:"title"},decls:17,vars:3,consts:[["slot","start"],["menu","main-menu"],["slot","end"],[3,"click",4,"ngIf"],["routerLink","/notifications"],["color","danger",4,"ngIf"],["name","notifications-outline"],["id","shop",1,"shop"],[1,"container"],["class","box",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","search-outline"],["color","danger"],["name","cart-outline"],[1,"box"],[3,"src"],[4,"ngIf"],[1,"minus",3,"click"],[1,"plus",3,"click"],[1,"cart",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-toolbar")(1,"ion-buttons",0),t._UZ(2,"ion-menu-button",1),t.TgZ(3,"ion-title"),t._uU(4,"Shop"),t.qZA()(),t.TgZ(5,"ion-buttons",2),t.YNc(6,J,4,1,"ion-button",3),t.TgZ(7,"ion-button",4),t.YNc(8,U,2,1,"ion-badge",5),t._UZ(9,"ion-icon",6),t.qZA()()(),t.TgZ(10,"ion-content")(11,"section",7)(12,"div",8),t.YNc(13,$,18,5,"div",9),t.qZA()(),t.TgZ(14,"ion-fab",10)(15,"ion-fab-button",11),t.NdJ("click",function(){return n.SearchCategory()}),t._UZ(16,"ion-icon",12),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngIf",0!=n.numbers),t.xp6(2),t.Q6J("ngIf",0!=n.notifCounts),t.xp6(5),t.Q6J("ngForOf",n.productList))},dependencies:[x.sg,x.O5,c.yp,c.YG,c.Sm,c.W2,c.IJ,c.W4,c.gu,c.fG,c.wd,c.sr,c.YI,_.rH,x.H9],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: #e5989b}ion-fab-button[_ngcontent-%COMP%]{--background: #ffb4a2}ion-button[_ngcontent-%COMP%]{--background: #ffb4a2}ion-button[_ngcontent-%COMP%]:hover{--background: black}ion-content[_ngcontent-%COMP%]{--background: #6d6875;padding:0;margin:0;box-sizing:border-box;font-family:Verdana,Geneva,Tahoma,sans-serif;text-decoration:none;color:var(--text-color)}ion-content[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{font-weight:600;padding:5px;margin-right:20px;cursor:pointer}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-left:20px;font-weight:600;padding:5px;cursor:pointer}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:active{background-color:#3880ff}ion-content[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:active{background-color:red}ion-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}ion-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{width:100%;top:0;right:0;z-index:1000;position:fixed;background:rgb(164,105,15);box-shadow:0 2px 8px #81a2b633;display:flex;align-items:center;justify-content:space-between;padding:0 8%;transition:.3s}ion-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:var(--text-color);font-size:33px;font-weight:600;line-height:.8;text-decoration:none;font-family:Verdana,Geneva,Tahoma,sans-serif}ion-content[_ngcontent-%COMP%]   #menu-icon[_ngcontent-%COMP%]{font-size:38px;color:var(--text-color);z-index:10001;display:none}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;color:var(--text-color);font-weight:600;padding:10px 15px;margin:0 10px;transition:all .4s ease}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:black;color:#fff}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:inline-block}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:24px;margin-left:15px}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.7}ion-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:100px 8%}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(360px,auto));align-items:center;gap:2rem;text-align:center;padding-top:2rem}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:0 20px 10px;background:transparent;box-shadow:5px 30px 56.1276px #3737371f;border-radius:10px;position:relative;transition:all .35s ease}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;letter-spacing:1px;margin-bottom:8px}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;letter-spacing:1px;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{background:#f7f6f6;display:flex;align-items:center;justify-content:center;flex-direction:column}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:30px}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;font-size:13px;font-weight:600;color:#000;line-height:30px}ion-content[_ngcontent-%COMP%]   .example-modal[_ngcontent-%COMP%]{align-items:center;justify-content:center}ion-content[_ngcontent-%COMP%]   .example-modal[_ngcontent-%COMP%]::part(content){width:80%;height:50%}"]}),o})()}];let D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild(j),_.Bz]}),o})(),R=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[x.ez,N.u5,c.Pc,D]}),o})()}}]);