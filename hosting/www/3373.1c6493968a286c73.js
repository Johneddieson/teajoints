"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3373],{3373:(U,u,a)=>{a.r(u),a.d(u,{SignupPageModule:()=>O});var d=a(9808),c=a(4182),s=a(4153),l=a(1115),p=a(8929),n=a(6435),h=a(3388),m=a(5920),f=a(2316);function P(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div",12)(1,"ion-button",13),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.SignUp())}),n._uU(2,"Sign up"),n.qZA(),n.TgZ(3,"p"),n._uU(4,"Already a member?"),n.qZA(),n.TgZ(5,"ion-button",14),n._uU(6,"Log in"),n.qZA()()}}function C(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div",12)(1,"ion-button",13),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.navigateadmin())}),n._uU(2,"Continue as Admin"),n.qZA()()}}function _(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div",12)(1,"ion-button",13),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.navigatecustomer())}),n._uU(2,"Continue as Customer"),n.qZA()()}}const M=[{path:"",component:(()=>{class e{constructor(t,i,o,r,v,S,T,Z,A){this.navCtrl=t,this.auth=i,this.afstore=o,this.afauth=r,this.loadingCtrl=v,this.alertCtrl=S,this.router=T,this.applicationRef=Z,this.zone=A,this.unsubscriber=new p.xQ,this.ishide=!1,this.isthisadmin=!1}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick();var t=JSON.parse(sessionStorage.getItem("user"));null!=t?(this.ishide=!0,"customer"==t.displayName?(this.continueAsCustomer=`CONTINUE AS ${t.displayName.toUpperCase()}`,this.isthisadmin=!1):(this.continueAsCustomer=`CONTINUE AS ${t.displayName.toUpperCase()}`,this.isthisadmin=!0)):this.ishide=!1},0)})})}ResetPassword(){this.alertCtrl.create({header:"Reset Password",inputs:[{name:"Email",placeholder:"Please type your email",type:"email"}],buttons:[{text:"Ok",handler:t=>{console.log("hahaha",t),this.auth.ForgotPassword(t.Email).then(i=>{this.alertCtrl.create({header:"Success",message:"The reset password code has been sent to your email"}).then(o=>{o.present()})}).catch(i=>{this.alertCtrl.create({header:"Error",message:"Email not found"}).then(o=>{o.present()})})}}]}).then(t=>{t.present()})}navigateadmin(){this.router.navigateByUrl("adminpage")}navigatecustomer(){this.router.navigateByUrl("home")}gotosignin(){this.navCtrl.navigateForward("login")}SignUp(){console.log("email",this.Email1),console.log("password",this.Password1),this.auth.SignUp(this.Email1,this.Password1).then(t=>{this.loadingCtrl.create({message:"Registering User..."}).then(i=>{i.present(),t.user.updateProfile({displayName:"customer"}),sessionStorage.setItem("user",JSON.stringify(t.user)),this.afstore.doc(`users/${t.user.uid}`).set({Email:this.Email1,Uid:t.user.uid,FirstName:"",LastName:"",Address1:"",Address2:"",PhoneNumber:""}).then(o=>{}).catch(o=>{console.log("err",o)}),setTimeout(()=>{i.dismiss(),this.router.navigateByUrl("/home"),this.Email1="",this.Password1=""},3e3)})}).catch(t=>{this.loadingCtrl.create({message:"Registering User..."}).then(i=>{i.present(),setTimeout(()=>{i.dismiss(),this.alertCtrl.create({message:t.message}).then(o=>{o.present()})},3e3)})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.SH),n.Y36(h.u),n.Y36(m.ST),n.Y36(f.zQ),n.Y36(s.HT),n.Y36(s.Br),n.Y36(l.F0),n.Y36(n.z2F),n.Y36(n.R0b))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-signup"]],decls:23,vars:8,consts:[[1,"login-section","ion-padding"],[1,"heading","ion-padding"],["routerLink","/login",1,"haha",3,"hidden"],["slot","icon-only","name","arrow-back-outline"],[1,"login-form","ion-padding"],[1,"form-input"],["name","mail-outline"],["position","floating"],["type","email",3,"ngModel","disabled","ngModelChange"],["name","lock-closed-outline"],["type","password",3,"ngModel","disabled","ngModelChange"],["class","action-button ion-padding",4,"ngIf"],[1,"action-button","ion-padding"],["size","large",1,"login-button",3,"click"],["size","large","fill","outline","routerLink","/login",1,"signup-button"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"p",2),n._UZ(4,"ion-icon",3),n.qZA(),n.TgZ(5,"h1"),n._uU(6,"Create an account"),n.qZA()(),n.TgZ(7,"div",4)(8,"div",5),n._UZ(9,"ion-icon",6),n.TgZ(10,"ion-item")(11,"ion-label",7),n._uU(12,"EMAIL"),n.qZA(),n.TgZ(13,"ion-input",8),n.NdJ("ngModelChange",function(r){return i.Email1=r}),n.qZA()()(),n.TgZ(14,"div",5),n._UZ(15,"ion-icon",9),n.TgZ(16,"ion-item")(17,"ion-label",7),n._uU(18,"PASSWORD"),n.qZA(),n.TgZ(19,"ion-input",10),n.NdJ("ngModelChange",function(r){return i.Password1=r}),n.qZA()()()(),n.YNc(20,P,7,0,"div",11),n.YNc(21,C,3,0,"div",11),n.YNc(22,_,3,0,"div",11),n.qZA()()),2&t&&(n.xp6(3),n.Q6J("hidden",i.ishide),n.xp6(10),n.Q6J("ngModel",i.Email1)("disabled",i.ishide),n.xp6(6),n.Q6J("ngModel",i.Password1)("disabled",i.ishide),n.xp6(1),n.Q6J("ngIf",!i.ishide),n.xp6(1),n.Q6J("ngIf",i.ishide&&i.isthisadmin),n.xp6(1),n.Q6J("ngIf",i.ishide&&!i.isthisadmin))},dependencies:[d.O5,c.JJ,c.On,s.YG,s.W2,s.gu,s.pK,s.Ie,s.Q$,s.j9,s.YI,l.rH],styles:[".haha[_ngcontent-%COMP%]{cursor:pointer}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(0deg,rgba(0,0,0,.7), rgba(0,0,0,.1)), url(teajointslogo.afdb6337aa49a8a1.jpg) no-repeat center center / cover}.login-section[_ngcontent-%COMP%]{height:90vh;width:100%;max-width:500px;background:#fff;right:0;left:0;bottom:0;position:fixed;margin:auto;border-top-left-radius:46px;border-top-right-radius:46px}.login-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin-top:20px}.login-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:bolder}.login-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1rem;color:#7b7b7b}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){padding-left:0}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:37px;z-index:2;font-size:1.2rem;left:5px}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{position:absolute;margin-left:35px;font-weight:bolder;font-size:.8rem;top:3px}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:.9rem;--padding-start: 36px;--padding-top: 36px;color:#7b7b7b}.login-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{text-align:center}.login-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #f9b801;width:100%;font-weight:700}.login-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:1rem;color:#7b7b7b}.login-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]{--border-color: #b4b4b4;--color: #000000;font-weight:700;margin-top:30px;width:100%}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.Bz.forChild(M),l.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[d.ez,c.u5,s.Pc,b]}),e})()}}]);