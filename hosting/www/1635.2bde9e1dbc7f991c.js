"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1635],{1635:(w,h,a)=>{a.r(h),a.d(h,{CreateposPageModule:()=>z});var u=a(9808),C=a(4182),s=a(4153),p=a(1115),m=a(655),t=a(6435),P=a(8929),b=a(4850),_=a(1423),M=a(3388),O=a(5920),y=a(2316);const v=["productbtn"];function S(e,g){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",10),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.checkout())}),t.TgZ(1,"ion-badge",11),t._uU(2),t.qZA(),t._UZ(3,"ion-icon",12),t.qZA()}if(2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.numbers)}}function T(e,g){if(1&e){const n=t.EpF();t.TgZ(0,"div",13),t._UZ(1,"img",14),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"h5"),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"h5"),t._uU(8),t.qZA(),t.TgZ(9,"h5")(10,"span",15),t.NdJ("click",function(){const c=t.CHM(n).$implicit,i=t.oxw();return t.KtG(i.Decrease(c))}),t._uU(11," - "),t.qZA(),t._uU(12),t.TgZ(13,"span",16),t.NdJ("click",function(){const c=t.CHM(n).$implicit,i=t.oxw();return t.KtG(i.Increase(c))}),t._uU(14," + "),t.qZA()(),t.TgZ(15,"div",17),t.NdJ("click",function(){const c=t.CHM(n).$implicit,i=t.oxw();return t.KtG(i.AddtoCart(c))}),t.TgZ(16,"ion-button"),t._uU(17,"Add to cart"),t.qZA()()()}if(2&e){const n=g.$implicit;t.xp6(1),t.s9C("src",n.ImageUrl,t.LSH),t.xp6(2),t.Oqu(n.ProductName),t.xp6(2),t.Oqu(t.xi3(6,5,n.UnitPrice,"\u20b1")),t.xp6(3),t.hij("",n.Stock," remaining"),t.xp6(4),t.Oqu(n.Quantity)}}const k=[{path:"",component:(()=>{class e{constructor(n,o,r,c,i,l,d,A,f,I,Q){this.msg=n,this.alertCtrl=o,this.auth=r,this.afstore=c,this.afauth=i,this.locationStrategy=l,this.router=d,this.applicationRef=A,this.zone=f,this.actRoute=I,this.loadingCtrl=Q,this.numbers=0,this.showLog=!1,this.productList=[],this.getCartDetails=[],this.cartItem=0,this.dropdown=!1,this.category="",this.unsubscriber=new P.xQ,this.itemsCart=[],d.events.subscribe(()=>{f.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),this.afauth.authState.subscribe(x=>{x&&x.uid&&this.getAllProducts()})}getAllProducts(){this.productReference=this.category?this.afstore.collection("Products",n=>n.where("Category","==",this.category)):this.afstore.collection("Products"),this.sub=this.productReference.snapshotChanges().pipe((0,b.U)(n=>n.map(o=>Object.assign({id:o.payload.doc.id},o.payload.doc.data())))).subscribe(n=>{this.productList=n})}loadProducts(){return(0,m.__awaiter)(this,void 0,void 0,function*(){var n=yield this.loadingCtrl.create({message:"Loading...",spinner:"bubbles"});yield n.present(),setTimeout(()=>{n.dismiss()},300)})}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})})}SearchCategory(){return(0,m.__awaiter)(this,void 0,void 0,function*(){var n=this.alertCtrl.create({header:"Choose Category",inputs:[{type:"radio",label:"--SHOW ALL--",value:""},{type:"radio",label:"Frappe",value:"Frappe"},{type:"radio",label:"Milktea",value:"Milktea"},{type:"radio",label:"Noodles",value:"Noodles"},{type:"radio",label:"Pares",value:"Pares"},{type:"radio",label:"Platters",value:"Platters"},{type:"radio",label:"Shakes",value:"Shakes"},{type:"radio",label:"Silog Meals",value:"Silog Meals"},{type:"radio",label:"Sizzling Meal W Rice",value:"Sizzling Meal W/ Rice"},{type:"radio",label:"Snacks",value:"Snacks"},{type:"radio",label:"Rice Meal",value:"Rice Meal"}],buttons:[{text:"Search",handler:o=>{this.category=o,this.loadProducts(),setTimeout(()=>{this.getAllProducts()},500)}},{text:"Close",role:"cancel"}]});(yield n).present()})}loadCart(){if(null!=sessionStorage.getItem("cart")){var n=[];n.push(JSON.parse(sessionStorage.getItem("cart"))),this.numbers=n[0].length}else this.numbers=0}Increase(n){n.Quantity+=1,this.loadCart()}Decrease(n){1==n.Quantity?this.alertCtrl.create({message:"Quantity should not be zero",buttons:[{text:"Ok",role:"cancel"}]}).then(o=>{o.present(),this.loadCart()}):(n.Quantity-=1,this.loadCart())}AddtoCart(n){if(n.Quantity>n.Stock)this.alertCtrl.create({message:"The quantity order should not be greater than the stock available",buttons:[{text:"Ok",role:"cancel"}]}).then(i=>{i.present(),n.Quantity=1});else{if(null==sessionStorage.getItem("cart")){let l=[];l.push(n),sessionStorage.setItem("cart",JSON.stringify(l)),n.Quantity=1}else{var c=n.id;let i=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let l=0;l<this.itemsCart.length;l++)if(c==this.itemsCart[l].id){this.itemsCart[l].Quantity=n.Quantity,n.Quantity=1,i=l;break}-1==i?(this.itemsCart.push(n),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),n.Quantity=1):(sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),n.Quantity=1),this.cartItemFunc()}this.loadCart()}}cartItemFunc(){var n=JSON.parse(sessionStorage.getItem("cart"));this.cartItem=n.length,this.msg.cartSubject.next(this.cartItem)}checkout(){this.router.navigateByUrl("/admincheckout")}hideDropdown(n){const o=n.clientX,r=n.clientY,c=this.productbtn.nativeElement.getBoundingClientRect();(o<c.left+2||o>c.right-2||r<c.top+2)&&(this.dropdown=!1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.g),t.Y36(s.Br),t.Y36(M.u),t.Y36(O.ST),t.Y36(y.zQ),t.Y36(u.S$),t.Y36(p.F0),t.Y36(t.z2F),t.Y36(t.R0b),t.Y36(p.gz),t.Y36(s.HT))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-createpos"]],viewQuery:function(n,o){if(1&n&&t.Gf(v,5,t.SBq),2&n){let r;t.iGM(r=t.CRH())&&(o.productbtn=r.first)}},inputs:{title:"title"},decls:14,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],[3,"click",4,"ngIf"],["id","shop",1,"shop"],[1,"container"],["class","box",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary",3,"click"],["name","search-outline"],[3,"click"],["color","danger"],["name","cart-outline"],[1,"box"],[3,"src"],[1,"minus",3,"click"],[1,"plus",3,"click"],[1,"cart",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-toolbar")(1,"ion-buttons",0),t._UZ(2,"ion-menu-button",1),t.TgZ(3,"ion-title"),t._uU(4,"POS"),t.qZA()(),t.TgZ(5,"ion-buttons",2),t.YNc(6,S,4,1,"ion-button",3),t.qZA()(),t.TgZ(7,"ion-content")(8,"section",4)(9,"div",5),t.YNc(10,T,18,8,"div",6),t.qZA()(),t.TgZ(11,"ion-fab",7)(12,"ion-fab-button",8),t.NdJ("click",function(){return o.SearchCategory()}),t._UZ(13,"ion-icon",9),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("ngIf",0!=o.numbers),t.xp6(4),t.Q6J("ngForOf",o.productList))},dependencies:[u.sg,u.O5,s.yp,s.YG,s.Sm,s.W2,s.IJ,s.W4,s.gu,s.fG,s.wd,s.sr,u.H9],styles:["ion-content[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:Verdana,Geneva,Tahoma,sans-serif;text-decoration:none;color:var(--text-color)}ion-content[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{font-weight:600;padding:5px;margin-right:20px;cursor:pointer}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-left:20px;font-weight:600;padding:5px;cursor:pointer}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:active{background-color:#3880ff}ion-content[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:active{background-color:red}ion-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}ion-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{width:100%;top:0;right:0;z-index:1000;position:fixed;background:rgb(164,105,15);box-shadow:0 2px 8px #81a2b633;display:flex;align-items:center;justify-content:space-between;padding:0 8%;transition:.3s}ion-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:var(--text-color);font-size:33px;font-weight:600;line-height:.8;text-decoration:none;font-family:Verdana,Geneva,Tahoma,sans-serif}ion-content[_ngcontent-%COMP%]   #menu-icon[_ngcontent-%COMP%]{font-size:38px;color:var(--text-color);z-index:10001;display:none}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;color:var(--text-color);font-weight:600;padding:10px 15px;margin:0 10px;transition:all .4s ease}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:black;color:#fff}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:inline-block}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:24px;margin-left:15px}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.7}ion-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:100px 8%}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(360px,auto));align-items:center;gap:2rem;text-align:center;padding-top:2rem}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:0 20px 10px;background:transparent;box-shadow:5px 30px 56.1276px #3737371f;border-radius:10px;position:relative;transition:all .35s ease}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;letter-spacing:1px;margin-bottom:8px}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;letter-spacing:1px;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{background:#f7f6f6;display:flex;align-items:center;justify-content:center;flex-direction:column}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:30px}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;font-size:13px;font-weight:600;color:#000;line-height:30px}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(k),p.Bz]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,C.u5,s.Pc,Z,C.UX]}),e})()}}]);