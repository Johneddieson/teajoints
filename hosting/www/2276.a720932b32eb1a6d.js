"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2276],{22276:(T,g,n)=>{n.r(g),n.d(g,{MainpagePageModule:()=>S});var p=n(69808),m=n(34182),i=n(54153),s=n(41115),h=n(70655),t=n(6435),y=n(24850),f=n(72316),P=n(5920);const M=["productbtn"];function v(o,l){if(1&o&&(t.TgZ(0,"ion-item",7)(1,"ion-avatar",8),t._UZ(2,"img",9),t.qZA(),t.TgZ(3,"ion-label"),t._uU(4),t.TgZ(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-badge",1),t._uU(8),t.qZA()()),2&o){const e=l.$implicit;t.MGl("routerLink","/productdetails/",e.id,""),t.xp6(2),t.Q6J("src",e.ImageUrl,t.LSH),t.xp6(2),t.hij(" ",e.ProductName," "),t.xp6(2),t.Oqu(e.Category),t.xp6(2),t.hij(" ",e.Stock,"")}}const b=[{path:"",component:(()=>{class o{constructor(e,a,r,c,u,d){this.afauth=e,this.afstore=a,this.actRoute=r,this.router=c,this.alertCtrl=u,this.loadingCtrl=d,this.dropdown=!1,this.dropdownmobile=!1,this.iconName="chevron-up",this.products=[],this.category="",this.getAllProducts()}getAllProducts(){this.productCollection=this.category?this.afstore.collection("Products",e=>e.where("Category","==",this.category)):this.afstore.collection("Products"),this.sub=this.productCollection.snapshotChanges().pipe((0,y.U)(e=>e.map(a=>Object.assign({id:a.payload.doc.id},a.payload.doc.data())))).subscribe(e=>{e=e.sort(function(a,r){return a.ProductName<r.ProductName?-1:a.ProductName>r.ProductName?1:0}),this.products=e})}SearchCategory(){return(0,h.__awaiter)(this,void 0,void 0,function*(){var e=this.alertCtrl.create({header:"Choose Category",inputs:[{type:"radio",label:"--SHOW ALL--",value:""},{type:"radio",label:"Frappe",value:"Frappe"},{type:"radio",label:"Milktea",value:"Milktea"},{type:"radio",label:"Noodles",value:"Noodles"},{type:"radio",label:"Pares",value:"Pares"},{type:"radio",label:"Platters",value:"Platters"},{type:"radio",label:"Shakes",value:"Shakes"},{type:"radio",label:"Silog Meals",value:"Silog Meals"},{type:"radio",label:"Sizzling Meal W Rice",value:"Sizzling Meal With Rice"},{type:"radio",label:"Snacks",value:"Snacks"},{type:"radio",label:"Rice Meal",value:"Rice Meal"},{type:"radio",label:"Extras",value:"Extras"}],buttons:[{text:"Search",handler:a=>{this.category=a,this.loadProducts(),setTimeout(()=>{this.getAllProducts()},500)}},{text:"Close",role:"cancel"}]});(yield e).present()})}loadProducts(){return(0,h.__awaiter)(this,void 0,void 0,function*(){var e=yield this.loadingCtrl.create({message:"Loading...",spinner:"bubbles"});yield e.present(),setTimeout(()=>{e.dismiss()},300)})}ngOnInit(){}hideDropdown(e){const a=e.clientX,r=e.clientY,c=this.productbtn.nativeElement.getBoundingClientRect();(a<c.left+2||a>c.right-2||r<c.top+2)&&(this.dropdown=!1)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.zQ),t.Y36(P.ST),t.Y36(s.gz),t.Y36(s.F0),t.Y36(i.Br),t.Y36(i.HT))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mainpage"]],viewQuery:function(e,a){if(1&e&&t.Gf(M,5,t.SBq),2&e){let r;t.iGM(r=t.CRH())&&(a.productbtn=r.first)}},inputs:{title:"title"},decls:12,vars:1,consts:[["color","primary"],["slot","end"],[3,"click"],["slot","icon-only","name","search-outline"],["routerLink","/login"],["slot","icon-only","name","log-in-outline"],["button","",3,"routerLink",4,"ngFor","ngForOf"],["button","",3,"routerLink"],["slot","start"],[3,"src"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t._uU(3,"Our Products"),t.qZA(),t.TgZ(4,"ion-buttons",1)(5,"ion-button",2),t.NdJ("click",function(){return a.SearchCategory()}),t._UZ(6,"ion-icon",3),t.qZA(),t.TgZ(7,"ion-button",4),t._UZ(8,"ion-icon",5),t.qZA()()()(),t.TgZ(9,"ion-content")(10,"ion-list"),t.YNc(11,v,9,5,"ion-item",6),t.qZA()()),2&e&&(t.xp6(11),t.Q6J("ngForOf",a.products))},dependencies:[p.sg,i.BJ,i.yp,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.wd,i.sr,i.YI,s.rH],styles:["ion-item[_ngcontent-%COMP%]{--background: #e9cfcf}"]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(b),s.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,m.u5,i.Pc,C]}),o})()}}]);