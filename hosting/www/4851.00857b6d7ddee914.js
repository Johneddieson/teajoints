"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(Y,x,i)=>{i.r(x),i.d(x,{HomePageModule:()=>Q});var p=i(9808),O=i(4182),s=i(4153),h=i(1115),P=i(655),t=i(6435),b=i(4850),y=i(8929),v=i(5439),S=i(1423),T=i(3388),Z=i(5920),k=i(2316);const H=["productbtn"];function z(e,g){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",14),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.checkout())}),t.TgZ(1,"ion-badge",15),t._uU(2),t.qZA(),t._UZ(3,"ion-icon",16),t.qZA()}if(2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.numbers)}}function I(e,g){if(1&e&&(t.TgZ(0,"ion-badge",15),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.notifCounts)}}function A(e,g){if(1&e){const n=t.EpF();t.TgZ(0,"div",17),t._UZ(1,"img",18),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"h5"),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"h5"),t._uU(8),t.qZA(),t.TgZ(9,"h5")(10,"span",19),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw();return t.KtG(a.Decrease(c))}),t._uU(11," - "),t.qZA(),t._uU(12),t.TgZ(13,"span",20),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw();return t.KtG(a.Increase(c))}),t._uU(14," + "),t.qZA()(),t.TgZ(15,"div",21),t.NdJ("click",function(){const c=t.CHM(n).$implicit,a=t.oxw();return t.KtG(a.AddtoCart(c))}),t.TgZ(16,"ion-button"),t._uU(17,"Add to cart"),t.qZA()()()}if(2&e){const n=g.$implicit;t.xp6(1),t.s9C("src",n.ImageUrl,t.LSH),t.xp6(2),t.Oqu(n.ProductName),t.xp6(2),t.Oqu(t.xi3(6,5,n.UnitPrice,"\u20b1")),t.xp6(3),t.hij("",n.Stock," remaining"),t.xp6(4),t.Oqu(n.Quantity)}}const w=[{path:"",component:(()=>{class e{constructor(n,o,r,c,a,l,m,U,_,R,J){this.msg=n,this.alertCtrl=o,this.auth=r,this.afstore=c,this.afauth=a,this.locationStrategy=l,this.router=m,this.applicationRef=U,this.zone=_,this.actRoute=R,this.loadingCtrl=J,this.numbers=0,this.showLog=!1,this.productList=[],this.getCartDetails=[],this.cartItem=0,this.dropdown=!1,this.category="",this.notificationsList=[],this.notifCounts=0,this.unsubscriber=new y.xQ,this.itemsCart=[],m.events.subscribe(()=>{_.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),this.afauth.authState.subscribe(C=>{C&&C.uid&&(this.getAllProducts(),this.notificationsReference=this.afstore.collection(`users/${C.uid}/notifications`),this.sub=this.notificationsReference.snapshotChanges().pipe((0,b.U)(d=>d.map(f=>Object.assign({id:f.payload.doc.id},f.payload.doc.data())))).subscribe(d=>{d=(d=d.map((u,M)=>Object.assign({id:u.id,Datetime:u.Datetime,DatetimeToSort:v(u.Datetime).toDate(),read:u.read,remarks:u.remarks,Message:u.Message}))).sort((u,M)=>Number(M.DatetimeToSort)-Number(u.DatetimeToSort)),this.notificationsList=d;var f=d.filter(u=>1!=u.read);this.notifCounts=f.length}))})}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),sessionStorage.getItem("cart")}getAllProducts(){this.productReference=this.category?this.afstore.collection("Products",n=>n.where("Category","==",this.category)):this.afstore.collection("Products"),this.sub=this.productReference.snapshotChanges().pipe((0,b.U)(n=>n.map(o=>Object.assign({id:o.payload.doc.id},o.payload.doc.data())))).subscribe(n=>{this.productList=n})}SearchCategory(){return(0,P.__awaiter)(this,void 0,void 0,function*(){var n=this.alertCtrl.create({header:"Choose Category",inputs:[{type:"radio",label:"--SHOW ALL--",value:""},{type:"radio",label:"Frappe",value:"Frappe"},{type:"radio",label:"Milktea",value:"Milktea"},{type:"radio",label:"Noodles",value:"Noodles"},{type:"radio",label:"Pares",value:"Pares"},{type:"radio",label:"Platters",value:"Platters"},{type:"radio",label:"Shakes",value:"Shakes"},{type:"radio",label:"Silog Meals",value:"Silog Meals"},{type:"radio",label:"Sizzling Meal W Rice",value:"Sizzling Meal With Rice"},{type:"radio",label:"Snacks",value:"Snacks"},{type:"radio",label:"Rice Meal",value:"Rice Meal"}],buttons:[{text:"Search",handler:o=>{this.category=o,this.loadProducts(),setTimeout(()=>{this.getAllProducts()},500)}},{text:"Close",role:"cancel"}]});(yield n).present()})}loadProducts(){return(0,P.__awaiter)(this,void 0,void 0,function*(){var n=yield this.loadingCtrl.create({message:"Loading...",spinner:"bubbles"});yield n.present(),setTimeout(()=>{n.dismiss()},300)})}loadCart(){if(null!=sessionStorage.getItem("cart")){var n=[];n.push(JSON.parse(sessionStorage.getItem("cart"))),this.numbers=n[0].length}else this.numbers=0}Increase(n){n.Quantity+=1,this.loadCart()}Decrease(n){1==n.Quantity?this.alertCtrl.create({message:"Quantity should not be zero",buttons:[{text:"Ok",role:"cancel"}]}).then(o=>{o.present(),this.loadCart()}):(n.Quantity-=1,this.loadCart())}AddtoCart(n){if(n.Quantity>n.Stock)this.alertCtrl.create({message:"The quantity order should not be greater than the stock available",buttons:[{text:"Ok",role:"cancel"}]}).then(a=>{a.present(),n.Quantity=1});else{if(null==sessionStorage.getItem("cart")){let l=[];l.push(n),sessionStorage.setItem("cart",JSON.stringify(l)),n.Quantity=1}else{var c=n.id;let a=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let l=0;l<this.itemsCart.length;l++)if(c==this.itemsCart[l].id){this.itemsCart[l].Quantity=n.Quantity,n.Quantity=1,a=l;break}-1==a?(this.itemsCart.push(n),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),n.Quantity=1):(sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),n.Quantity=1),this.cartItemFunc()}this.loadCart()}}cartItemFunc(){var n=JSON.parse(sessionStorage.getItem("cart"));this.cartItem=n.length,this.msg.cartSubject.next(this.cartItem)}checkout(){this.router.navigateByUrl("/checkout")}hideDropdown(n){const o=n.clientX,r=n.clientY,c=this.productbtn.nativeElement.getBoundingClientRect();(o<c.left+2||o>c.right-2||r<c.top+2)&&(this.dropdown=!1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(S.g),t.Y36(s.Br),t.Y36(T.u),t.Y36(Z.ST),t.Y36(k.zQ),t.Y36(p.S$),t.Y36(h.F0),t.Y36(t.z2F),t.Y36(t.R0b),t.Y36(h.gz),t.Y36(s.HT))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],viewQuery:function(n,o){if(1&n&&t.Gf(H,5,t.SBq),2&n){let r;t.iGM(r=t.CRH())&&(o.productbtn=r.first)}},inputs:{title:"title"},decls:17,vars:3,consts:[["color","primary"],["slot","start"],["menu","main-menu"],["slot","end"],[3,"click",4,"ngIf"],["routerLink","/notifications"],["color","danger",4,"ngIf"],["name","notifications-outline"],["id","shop",1,"shop"],[1,"container"],["class","box",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary",3,"click"],["name","search-outline"],[3,"click"],["color","danger"],["name","cart-outline"],[1,"box"],[3,"src"],[1,"minus",3,"click"],[1,"plus",3,"click"],[1,"cart",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-toolbar",0)(1,"ion-buttons",1),t._UZ(2,"ion-menu-button",2),t.TgZ(3,"ion-title"),t._uU(4,"Shop"),t.qZA()(),t.TgZ(5,"ion-buttons",3),t.YNc(6,z,4,1,"ion-button",4),t.TgZ(7,"ion-button",5),t.YNc(8,I,2,1,"ion-badge",6),t._UZ(9,"ion-icon",7),t.qZA()()(),t.TgZ(10,"ion-content")(11,"section",8)(12,"div",9),t.YNc(13,A,18,8,"div",10),t.qZA()(),t.TgZ(14,"ion-fab",11)(15,"ion-fab-button",12),t.NdJ("click",function(){return o.SearchCategory()}),t._UZ(16,"ion-icon",13),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("ngIf",0!=o.numbers),t.xp6(2),t.Q6J("ngIf",0!=o.notifCounts),t.xp6(5),t.Q6J("ngForOf",o.productList))},dependencies:[p.sg,p.O5,s.yp,s.YG,s.Sm,s.W2,s.IJ,s.W4,s.gu,s.fG,s.wd,s.sr,s.YI,h.rH,p.H9],styles:["ion-content[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:Verdana,Geneva,Tahoma,sans-serif;text-decoration:none;color:var(--text-color)}ion-content[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{font-weight:600;padding:5px;margin-right:20px;cursor:pointer}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-left:20px;font-weight:600;padding:5px;cursor:pointer}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:active{background-color:#3880ff}ion-content[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:active{background-color:red}ion-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}ion-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{width:100%;top:0;right:0;z-index:1000;position:fixed;background:rgb(164,105,15);box-shadow:0 2px 8px #81a2b633;display:flex;align-items:center;justify-content:space-between;padding:0 8%;transition:.3s}ion-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:var(--text-color);font-size:33px;font-weight:600;line-height:.8;text-decoration:none;font-family:Verdana,Geneva,Tahoma,sans-serif}ion-content[_ngcontent-%COMP%]   #menu-icon[_ngcontent-%COMP%]{font-size:38px;color:var(--text-color);z-index:10001;display:none}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;color:var(--text-color);font-weight:600;padding:10px 15px;margin:0 10px;transition:all .4s ease}ion-content[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:black;color:#fff}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:inline-block}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:24px;margin-left:15px}ion-content[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.7}ion-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:100px 8%}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(360px,auto));align-items:center;gap:2rem;text-align:center;padding-top:2rem}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:0 20px 10px;background:transparent;box-shadow:5px 30px 56.1276px #3737371f;border-radius:10px;position:relative;transition:all .35s ease}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;letter-spacing:1px;margin-bottom:8px}ion-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;letter-spacing:1px;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{background:#f7f6f6;display:flex;align-items:center;justify-content:center;flex-direction:column}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:30px}ion-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;font-size:13px;font-weight:600;color:#000;line-height:30px}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(w),h.Bz]}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,O.u5,s.Pc,N]}),e})()}}]);