"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9777],{9777:(k,u,l)=>{l.r(u),l.d(u,{AddProductPageModule:()=>N});var g=l(9808),i=l(4182),n=l(4153),m=l(1115),h=l(5439),t=l(6435),f=l(520),P=l(5920);function _(e,a){if(1&e&&t._UZ(0,"img",29),2&e){const o=t.oxw();t.s9C("src",o.photoLink,t.LSH)}}function A(e,a){1&e&&(t.TgZ(0,"ion-text",30),t._uU(1," Product Name shouldn't be empty "),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"ion-text",32),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.hij(" ",o.registerForm.controls.firstname.errors.invalidMsg," ")}}function Z(e,a){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,v,2,1,"ion-text",23),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.registerForm.controls.firstname.errors.invalidMsg)}}function x(e,a){1&e&&(t.TgZ(0,"ion-text",32),t._uU(1," Product Name must be minimum 5 characters long "),t.qZA())}function w(e,a){1&e&&(t.TgZ(0,"ion-text",32),t._uU(1," Stock of product shouldn't be empty "),t.qZA())}function b(e,a){if(1&e&&(t.TgZ(0,"ion-text",32),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.hij(" ",o.registerForm.controls.cellphonenumber.errors.invalidMsg," ")}}function T(e,a){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,b,2,1,"ion-text",23),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.registerForm.controls.cellphonenumber.errors.invalidMsg)}}function F(e,a){1&e&&(t.TgZ(0,"ion-text",32),t._uU(1," Price of product shouldn't be empty "),t.qZA())}function y(e,a){if(1&e&&(t.TgZ(0,"ion-text",32),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.hij(" ",o.registerForm.controls.password.errors.invalidMsg," ")}}function I(e,a){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,y,2,1,"ion-text",23),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.registerForm.controls.password.errors.invalidMsg)}}const M=[{path:"",component:(()=>{class e{constructor(o,r,s,c,d){this.http=o,this.formBuilder=r,this.loadingCtrl=s,this.alertCtrl=c,this.afstore=d,this.withPhoto=!1}ngOnInit(){this.photoLink="https://static.wikia.nocookie.net/otonari-no-tenshi/images/c/c9/No_images_available.jpg/revision/latest?cb=20220104141308",this.registerForm=new i.cw({category:new i.NI("",[i.kI.required,this.customPatternValid({pattern:/^([A-Z][a-z]*((\s[A-Za-z])?[a-z]*)*)$/,msg:"Always Starts With Capital Letter"}),this.customPatternValid({pattern:/^([^0-9]*)$/,msg:"Numbers is not allowed"}),i.kI.minLength(5)]),firstname:new i.NI("",[i.kI.required,this.customPatternValid({pattern:/^([A-Z][a-z]*((\s[A-Za-z])?[a-z]*)*)$/,msg:"Always Starts With Capital Letter"}),this.customPatternValid({pattern:/^([^0-9]*)$/,msg:"Numbers is not allowed"}),i.kI.minLength(5)]),cellphonenumber:new i.NI("",[i.kI.required,this.customPatternValid({pattern:/^[+-]?(?:\d*[1-9]\d*(?:\.\d+)?|0+\.\d*[1-9]\d*)$/,msg:"This format is not allowed"}),this.customPatternValid({pattern:/^([^.?!-]*)$/,msg:"Negative is not allowed"}),this.customPatternValid({pattern:/^([^.?!_]*)$/,msg:"Under Score is not allowed"}),this.customPatternValid({pattern:/^([^.?!=]*)$/,msg:"Equal is not allowed"}),this.customPatternValid({pattern:/^([^.?!+]*)$/,msg:"Plus is not allowed"}),this.customPatternValid({pattern:/^([^.?!.]*)$/,msg:"Period is not allowed"})]),password:new i.NI("",[i.kI.required,this.customPatternValid({pattern:/^[+-]?(?:\d*[1-9]\d*(?:\.\d+)?|0+\.\d*[1-9]\d*)$/,msg:"This format is not allowed"}),this.customPatternValid({pattern:/^([^-]*)$/,msg:"Negative is not allowed"}),this.customPatternValid({pattern:/^([^?!_]*)$/,msg:"Under Score is not allowed"}),this.customPatternValid({pattern:/^([^?!=]*)$/,msg:"Equal is not allowed"}),this.customPatternValid({pattern:/^([^?!+]*)$/,msg:"Plus is not allowed"})])})}customPatternValid(o){return console.log("wew",o),r=>r.value&&!r.value.match(o.pattern)?{invalidMsg:o.msg}:null}reset(){console.log("wew",this.myInputVariable.value),this.myInputVariable.value=""}fileChanged(o){const r=o.target.files;console.log("the files",r);const s=new FormData;s.append("file",r[0]),s.append("UPLOADCARE_PUB_KEY","75fac434ed116098f291"),this.http.post("https://upload.uploadcare.com/base/",s).subscribe(c=>{var d={events:c};for(var p in d){console.log("wew",d[p].file);for(const U of r)this.photoLink=`https://ucarecdn.com/${d[p].file}/${U.name}`}this.withPhoto=!0})}submit(){0==this.withPhoto?this.alertCtrl.create({message:"Please Choose a Photo",buttons:[{text:"Ok",role:"cancel"}]}).then(o=>{o.present()}):this.loadingCtrl.create({message:"Creating New Product"}).then(o=>{o.present(),this.afstore.collection("Products").add({Category:this.registerForm.value.category,ProductName:this.registerForm.value.firstname,Stock:parseInt(this.registerForm.value.cellphonenumber),UnitPrice:this.registerForm.value.password,ImageUrl:this.photoLink,Quantity:1});var r=h(new Date).format("DD-MM-YYYY hh:mm A");this.afstore.collection("Inventory").add({Quantity:1*parseInt(this.registerForm.value.cellphonenumber),Datetime:r,read:!1,Destination:"Admin",ProductName:this.registerForm.value.firstname,UnitPrice:this.registerForm.value.password,ImageUrl:this.photoLink,DatetimeToSort:new Date}),setTimeout(()=>{o.dismiss(),this.registerForm.reset(),this.photoLink="https://static.wikia.nocookie.net/otonari-no-tenshi/images/c/c9/No_images_available.jpg/revision/latest?cb=20220104141308",this.alertCtrl.create({header:"Officially Created",message:"You created the product successfully",buttons:[{text:"Ok",role:"cancel"}]}).then(s=>{s.present(),this.withPhoto=!1,this.myInputVariable.value=""}).catch(s=>{})},3e3)}).catch(o=>{})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.eN),t.Y36(i.qu),t.Y36(n.HT),t.Y36(n.Br),t.Y36(P.ST))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-product"]],viewQuery:function(o,r){if(1&o&&t.Gf(n.pK,5),2&o){let s;t.iGM(s=t.CRH())&&(r.myInputVariable=s.first)}},decls:53,vars:10,consts:[["color","primary"],["slot","start"],[1,"ion-padding","ion-text-center"],["class","camera",3,"src",4,"ngIf"],[1,"form"],["type","file","accept","image/*",1,"uploadfile",3,"change"],["inputFile",""],["novalidate","",3,"formGroup","ngSubmit"],["lines","none"],["formControlName","category"],["value","Frappe"],["value","Milktea"],["value","Noodles"],["value","Pares"],["value","Platters"],["value","Shakes"],["value","Silog Meals"],["value","Sizzling Meal W/ Rice"],["value","Snacks"],["value","Rice Meal"],["placeholder","Enter product name","formControlName","firstname"],["type","text","color","danger",4,"ngIf"],["class","error",4,"ngIf"],["color","danger",4,"ngIf"],["type","tel","placeholder","Enter Stock","formControlName","cellphonenumber"],["type","tel","placeholder","Enter Price","formControlName","password"],["type","submit","hidden",""],["btn",""],["color","dark","expand","block",3,"disabled","click"],[1,"camera",3,"src"],["type","text","color","danger"],[1,"error"],["color","danger"]],template:function(o,r){if(1&o){const s=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Add Product"),t.qZA()()(),t.TgZ(6,"ion-content",2),t.YNc(7,_,1,1,"img",3),t.TgZ(8,"div",4)(9,"ion-input",5,6),t.NdJ("change",function(d){return r.fileChanged(d)}),t.qZA(),t.TgZ(11,"form",7),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(12,"ion-item",8)(13,"ion-label"),t._uU(14,"Categories"),t.qZA(),t.TgZ(15,"ion-select",9)(16,"ion-select-option",10),t._uU(17,"Frappe"),t.qZA(),t.TgZ(18,"ion-select-option",11),t._uU(19,"Milk Tea"),t.qZA(),t.TgZ(20,"ion-select-option",12),t._uU(21,"Noodles"),t.qZA(),t.TgZ(22,"ion-select-option",13),t._uU(23,"Pares"),t.qZA(),t.TgZ(24,"ion-select-option",14),t._uU(25,"Platters"),t.qZA(),t.TgZ(26,"ion-select-option",15),t._uU(27,"Shakes"),t.qZA(),t.TgZ(28,"ion-select-option",16),t._uU(29,"Silog Meals"),t.qZA(),t.TgZ(30,"ion-select-option",17),t._uU(31,"Sizzling Meal W Rice"),t.qZA(),t.TgZ(32,"ion-select-option",18),t._uU(33,"Snacks"),t.qZA(),t.TgZ(34,"ion-select-option",19),t._uU(35,"Rice Meal"),t.qZA()()(),t.TgZ(36,"ion-item",8),t._UZ(37,"ion-input",20),t.qZA(),t.YNc(38,A,2,0,"ion-text",21),t.YNc(39,Z,2,1,"div",22),t.YNc(40,x,2,0,"ion-text",23),t.TgZ(41,"ion-item",8),t._UZ(42,"ion-input",24),t.qZA(),t.YNc(43,w,2,0,"ion-text",23),t.YNc(44,T,2,1,"div",22),t.TgZ(45,"ion-item",8),t._UZ(46,"ion-input",25),t.qZA(),t.YNc(47,F,2,0,"ion-text",23),t.YNc(48,I,2,1,"div",22),t._UZ(49,"button",26,27),t.TgZ(51,"ion-button",28),t.NdJ("click",function(){t.CHM(s);const d=t.MAs(50);return t.KtG(d.click())}),t._uU(52,"Create Product"),t.qZA()()()()}2&o&&(t.xp6(7),t.Q6J("ngIf",""!=r.photoLink),t.xp6(4),t.Q6J("formGroup",r.registerForm),t.xp6(27),t.Q6J("ngIf",r.registerForm.get("firstname").hasError("required")&&r.registerForm.get("firstname").touched),t.xp6(1),t.Q6J("ngIf",!r.registerForm.controls.firstname.valid&&(r.registerForm.controls.firstname.dirty||r.registerForm.controls.firstname.touched)),t.xp6(1),t.Q6J("ngIf",r.registerForm.get("firstname").hasError("minlength")&&r.registerForm.get("firstname").touched),t.xp6(3),t.Q6J("ngIf",r.registerForm.get("cellphonenumber").hasError("required")&&r.registerForm.get("cellphonenumber").touched),t.xp6(1),t.Q6J("ngIf",!r.registerForm.controls.cellphonenumber.valid&&(r.registerForm.controls.cellphonenumber.dirty||r.registerForm.controls.cellphonenumber.touched)),t.xp6(3),t.Q6J("ngIf",r.registerForm.get("password").hasError("required")&&r.registerForm.get("password").touched),t.xp6(1),t.Q6J("ngIf",!r.registerForm.controls.password.valid&&(r.registerForm.controls.password.dirty||r.registerForm.controls.password.touched)),t.xp6(3),t.Q6J("disabled",r.registerForm.invalid))},dependencies:[g.O5,i._Y,i.JJ,i.JL,n.oU,n.YG,n.Sm,n.W2,n.Gu,n.pK,n.Ie,n.Q$,n.t9,n.n0,n.yW,n.wd,n.sr,n.QI,n.j9,n.cs,i.sg,i.u],styles:["ion-back-button[_ngcontent-%COMP%]{display:block}.toolbar[_ngcontent-%COMP%]{height:84px;--background: #69A03A;color:#fff;font-size:20px;line-height:84px}.camera[_ngcontent-%COMP%]{width:200px;height:128px;margin:0 auto}.logo[_ngcontent-%COMP%]{margin-top:6%}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{margin-top:-20px}.form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:5px;border-color:gray;border-width:2px;border-style:solid;margin-bottom:10px}ion-button[_ngcontent-%COMP%]{text-transform:none}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(M),m.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,i.u5,n.Pc,C,i.UX]}),e})()}}]);