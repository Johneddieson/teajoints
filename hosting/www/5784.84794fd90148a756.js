"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5784],{65784:(I,M,a)=>{a.r(M),a.d(M,{InvoicepagePageModule:()=>y});var d=a(69808),m=a(34182),g=a(54153),s=a(41115),C=a(4159),v=a.n(C),f=a(53583),p=a(15439),_=a(24850),t=a(6435),Z=a(5920),b=a(72316),A=a(40520);function T(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",18)(4,"h3")(5,"a"),t._uU(6),t.qZA()(),t._uU(7),t.qZA(),t.TgZ(8,"td",22),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"td",23),t._uU(12),t.qZA(),t.TgZ(13,"td",24),t._uU(14),t.ALo(15,"currency"),t.qZA()()),2&e){const o=r.$implicit,i=r.index;t.xp6(2),t.Oqu(i),t.xp6(4),t.hij(" ",o.Category," "),t.xp6(1),t.hij(" ",o.ProductName," "),t.xp6(2),t.Oqu(t.xi3(10,6,o.UnitPrice,"\u20b1")),t.xp6(3),t.Oqu(o.Quantity),t.xp6(2),t.Oqu(t.xi3(15,9,o.UnitPrice*o.Quantity,"\u20b1"))}}const U=[{path:"",component:(()=>{class e{constructor(o,i,c,P,O,u,h){this.actRoute=o,this.afstore=i,this.afauth=c,this.router=P,this.currencyPipe=O,this.alertCtrl=u,this.http=h,this.orders=[],this.currentStock=[],this.afauth.authState.subscribe(l=>{l.uid&&l&&(this.name=this.actRoute.snapshot.paramMap.get("name"),this.id=this.actRoute.snapshot.paramMap.get("id"),this.orderDetails="orders"==this.name?this.afstore.collection("Orders").doc(this.id):this.afstore.collection("History").doc(this.id),this.sub=this.orderDetails.snapshotChanges().pipe((0,_.U)(n=>Object.assign({id:n.payload.id},n.payload.data()))).subscribe(n=>{console.log("haha",n),this.orders=n.OrderDetails,this.data=n,this.total=n.TotalAmount,this.subtotal="WALK-IN"!=n.Billingemail.toUpperCase()?n.TotalAmount-30:n.TotalAmount,this.firstname=n.BillingFirstname,this.lastname=n.BillingLastname,this.address1=n.BillingAddress1,this.address2=n.BillingAddress2,this.status=n.Status,this.phonenumber="WALK-IN"==n.BillingPhonenumber.toString().toUpperCase()?"Walk-In":"0"+n.BillingPhonenumber,this.email=n.Billingemail,this.deliveryfee="WALK-IN"!=n.Billingemail.toUpperCase()?30:0,this.dateOrdered=p(n.Datetime).format("MM-DD-YYYY hh:mm A"),this.invoiceDate=p(new Date).format("MM-DD-YYYY hh:mm A"),this.dateOrdered2=p(n.Datetime).format("MM-DD-YYYY")}))})}ngOnInit(){}convertToPDF(){v()(document.getElementById("invoice")).then(o=>{const i=o.toDataURL("image/png");let c=new f.ZP("l","mm","a4");var P=c.internal.pageSize.getWidth();c.addImage(i,"PNG",10,10,P,209.9),c.addPage();const O=o.toDataURL("image/png");var u=c.internal.pageSize.getWidth();c.addImage(O,"PNG",10,10,u,209.9),c.addPage();const h=o.toDataURL("image/png");var l=c.internal.pageSize.getWidth();c.addImage(h,"PNG",10,10,l,209.9),c.save(`${this.firstname+" "+this.lastname} - ${this.dateOrdered2}`)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(s.gz),t.Y36(Z.ST),t.Y36(b.zQ),t.Y36(s.F0),t.Y36(d.H9),t.Y36(g.Br),t.Y36(A.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-invoicepage"]],decls:71,vars:20,consts:[["slot","start"],["vertical","bottom","horizontal","end","slot","fixed"],["color","success",3,"click"],["name","print-outline"],["id","invoice"],[1,"toolbar","hidden-print"],[1,"text-right"],[1,"invoice","overflow-auto"],[2,"min-width","600px"],[1,"row","contacts"],[1,"col","invoice-to"],[1,"text-gray-light"],[1,"to"],[1,"address"],[1,"email"],[1,"col","invoice-details"],[1,"date"],["border","0","cellspacing","0","cellpadding","0"],[1,"text-left"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"no"],[1,"unit"],[1,"qty"],[1,"total"]],template:function(o,i){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"ion-fab",1)(6,"ion-fab-button",2),t.NdJ("click",function(){return i.convertToPDF()}),t._UZ(7,"ion-icon",3),t.qZA()(),t.TgZ(8,"div",4)(9,"div",5),t._UZ(10,"div",6)(11,"hr"),t.qZA(),t.TgZ(12,"div",7)(13,"div",8)(14,"main")(15,"div",9)(16,"div",10)(17,"div",11),t._uU(18,"INVOICE TO:"),t.qZA(),t.TgZ(19,"h2",12),t._uU(20),t.qZA(),t.TgZ(21,"div",13),t._uU(22),t.qZA(),t.TgZ(23,"div",13),t._uU(24),t.qZA(),t.TgZ(25,"div",14)(26,"a"),t._uU(27),t.qZA()()(),t.TgZ(28,"div",15)(29,"div",16),t._uU(30),t.qZA(),t.TgZ(31,"div",16),t._uU(32),t.qZA()()(),t.TgZ(33,"table",17)(34,"thead")(35,"tr")(36,"th"),t._uU(37,"#"),t.qZA(),t.TgZ(38,"th",18),t._uU(39,"PRODUCT NAME"),t.qZA(),t.TgZ(40,"th",6),t._uU(41,"UNIT PRICE"),t.qZA(),t.TgZ(42,"th",6),t._uU(43,"QTY"),t.qZA(),t.TgZ(44,"th",6),t._uU(45,"TOTAL"),t.qZA()()(),t.TgZ(46,"tbody"),t.YNc(47,T,16,12,"tr",19),t.qZA(),t.TgZ(48,"tfoot")(49,"tr"),t._UZ(50,"td",20),t.TgZ(51,"td",20),t._uU(52,"SUBTOTAL"),t.qZA(),t.TgZ(53,"td"),t._uU(54),t.ALo(55,"currency"),t.qZA()(),t.TgZ(56,"tr"),t._UZ(57,"td",20),t.TgZ(58,"td",20),t._uU(59,"DELIVERY FEE"),t.qZA(),t.TgZ(60,"td"),t._uU(61),t.ALo(62,"currency"),t.qZA()(),t.TgZ(63,"tr"),t._UZ(64,"td",20),t.TgZ(65,"td",20),t._uU(66,"TOTAL AMOUNT"),t.qZA(),t.TgZ(67,"td"),t._uU(68),t.ALo(69,"currency"),t.qZA()()()()()(),t._UZ(70,"div"),t.qZA()()()),2&o&&(t.xp6(20),t.AsE("",i.firstname," ",i.lastname,""),t.xp6(2),t.Oqu(i.address1),t.xp6(2),t.Oqu(i.address2),t.xp6(3),t.Oqu(i.email),t.xp6(3),t.hij("Date of Invoice: ",i.invoiceDate,""),t.xp6(2),t.hij("Date Ordered: ",i.dateOrdered,""),t.xp6(15),t.Q6J("ngForOf",i.orders),t.xp6(7),t.Oqu(t.xi3(55,11,i.subtotal,"\u20b1")),t.xp6(7),t.Oqu(t.xi3(62,14,i.deliveryfee,"\u20b1")),t.xp6(7),t.Oqu(t.xi3(69,17,i.total,"\u20b1")))},dependencies:[d.sg,g.oU,g.Sm,g.W2,g.IJ,g.W4,g.Gu,g.gu,g.sr,g.cs,d.H9],styles:["ion-back-button[_ngcontent-%COMP%]{display:block}#invoice[_ngcontent-%COMP%]{padding:30px}.invoice[_ngcontent-%COMP%]{position:relative;background-color:#fff;min-height:680px;padding:15px}.invoice[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:10px 0;margin-bottom:20px;border-bottom:1px solid #3989c6}.invoice[_ngcontent-%COMP%]   .company-details[_ngcontent-%COMP%]{text-align:right}.invoice[_ngcontent-%COMP%]   .company-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.invoice[_ngcontent-%COMP%]   .contacts[_ngcontent-%COMP%]{margin-bottom:20px}.invoice[_ngcontent-%COMP%]   .invoice-to[_ngcontent-%COMP%]{text-align:left}.invoice[_ngcontent-%COMP%]   .invoice-to[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.invoice[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]{text-align:right}.invoice[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .invoice-id[_ngcontent-%COMP%]{margin-top:0;color:#3989c6}.invoice[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding-bottom:50px}.invoice[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .thanks[_ngcontent-%COMP%]{margin-top:-100px;font-size:2em;margin-bottom:50px}.invoice[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .notices[_ngcontent-%COMP%]{padding-left:6px;border-left:6px solid #3989c6}.invoice[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .notices[_ngcontent-%COMP%]   .notice[_ngcontent-%COMP%]{font-size:1.2em}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0;margin-bottom:20px}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px;background:#eee;border-bottom:1px solid #fff}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;font-weight:400;font-size:16px}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:400;color:#3989c6;font-size:1.2em}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%], .invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%], .invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{text-align:right;font-size:1.2em}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .no[_ngcontent-%COMP%]{color:#fff;font-size:1.6em;background:#3989c6}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{background:#ddd}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background:#3989c6;color:#fff}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border:none}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:0 0;border-bottom:none;white-space:nowrap;text-align:right;padding:10px 20px;font-size:1.2em;border-top:1px solid #aaa}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:none}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{color:#3989c6;font-size:1.4em;border-top:1px solid #3989c6}.invoice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border:none}.invoice[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{width:100%;text-align:center;color:#777;border-top:1px solid #aaa;padding:8px 0}@media print{.invoice[_ngcontent-%COMP%]{font-size:11px!important;overflow:hidden!important}.invoice[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{position:absolute;bottom:10px;page-break-after:always}.invoice[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{page-break-before:always}}"]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(U),s.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,m.u5,g.Pc,x]}),e})()}}]);