"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[174],{6175:(p,r,o)=>{o.d(r,{q:()=>T});var e=o(9808),u=o(4153),f=o(1115),d=o(2698),g=o(6435);let T=(()=>{class t{}return t.\u0275fac=function(P){return new(P||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[e.ez,u.Pc,f.Bz,d.CategoryPageModule]}),t})()},5652:(p,r,o)=>{o.r(r),o.d(r,{TabsPageModule:()=>O});var e=o(4153),u=o(9808),f=o(4182),d=o(1115),g=o(4850),T=o(5439),t=o(6435),b=o(5920),P=o(2316),v=o(3388);function y(n,l){if(1&n&&(t.TgZ(0,"ion-badge",10),t._uU(1),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Oqu(a.notifCounts)}}const U=[{path:"",component:(()=>{class n{constructor(a,h,M,E,A,B,S,R,Y){this.router=a,this.afstore=h,this.afauth=M,this.loadingCtrl=E,this.locationStrategy=A,this.auth=B,this.alertCtrl=S,this.applicationRef=R,this.zone=Y,this.notificationsList=[],this.notifCounts=0,this.afauth.authState.subscribe(c=>{c&&c.uid&&(a.navigateByUrl("admin"==c.displayName?"adminpage":"tabs"),this.notificationsReference=this.afstore.collection(`users/${c.uid}/notifications`),this.sub=this.notificationsReference.snapshotChanges().pipe((0,g.U)(i=>i.map(m=>Object.assign({id:m.payload.doc.id},m.payload.doc.data())))).subscribe(i=>{i=(i=i.map((s,C)=>Object.assign({id:s.id,Datetime:s.Datetime,DatetimeToSort:T(s.Datetime).toDate(),read:s.read,remarks:s.remarks,Message:s.Message}))).sort((s,C)=>Number(C.DatetimeToSort)-Number(s.DatetimeToSort)),this.notificationsList=i;var m=i.filter(s=>1!=s.read);this.notifCounts=m.length}))})}ngOnInit(){}logout(){this.alertCtrl.create({message:"Are you sure want to logout?",buttons:[{text:"Yes",handler:()=>{this.auth.SignOut()}},{text:"No",role:"cancel"}]}).then(a=>{a.present()})}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(d.F0),t.Y36(b.ST),t.Y36(P.zQ),t.Y36(e.HT),t.Y36(u.S$),t.Y36(v.u),t.Y36(e.Br),t.Y36(t.z2F),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tabs"]],decls:19,vars:1,consts:[["slot","bottom"],["tab","tab1"],["name","cart"],["tab","tab3"],["name","create-outline"],["tab","tab2"],["name","notifications"],["color","danger",4,"ngIf"],[3,"click"],["name","log-out-outline"],["color","danger"]],template:function(a,h){1&a&&(t.TgZ(0,"ion-tabs")(1,"ion-tab-bar",0)(2,"ion-tab-button",1),t._UZ(3,"ion-icon",2),t.TgZ(4,"ion-label"),t._uU(5,"Buy Product"),t.qZA()(),t.TgZ(6,"ion-tab-button",3),t._UZ(7,"ion-icon",4),t.TgZ(8,"ion-label"),t._uU(9,"Edit Information"),t.qZA()(),t.TgZ(10,"ion-tab-button",5),t._UZ(11,"ion-icon",6),t.YNc(12,y,2,1,"ion-badge",7),t.TgZ(13,"ion-label"),t._uU(14,"Notifications"),t.qZA()(),t.TgZ(15,"ion-tab-button",8),t.NdJ("click",function(){return h.logout()}),t._UZ(16,"ion-icon",9),t.TgZ(17,"ion-label"),t._uU(18,"Log out"),t.qZA()()()()),2&a&&(t.xp6(12),t.Q6J("ngIf",0!=h.notifCounts))},dependencies:[e.yp,e.gu,e.Q$,e.yq,e.ZU,e.UN,u.O5]}),n})(),children:[{path:"product",loadChildren:()=>o.e(6857).then(o.bind(o,6857)).then(n=>n.MenuPageModule)},{path:"tab1",loadChildren:()=>Promise.all([o.e(8592),o.e(4851)]).then(o.bind(o,4851)).then(n=>n.HomePageModule)},{path:"tab2",loadChildren:()=>Promise.all([o.e(8592),o.e(9196)]).then(o.bind(o,9196)).then(n=>n.Tab2PageModule)},{path:"tab3",loadChildren:()=>Promise.all([o.e(8592),o.e(420)]).then(o.bind(o,7259)).then(n=>n.Tab3PageModule)},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/product",pathMatch:"full"}];let Z=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(U)]}),n})();var D=o(6175);let O=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[e.Pc,u.ez,f.u5,Z,D.q]}),n})()}}]);