"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5594],{25594:(Z,c,s)=>{s.r(c),s.d(c,{Admintab3PageModule:()=>v});var h=s(69808),d=s(34182),l=s(54153),g=s(41115),_=s(24850),u=s(15439),t=s(6435),f=s(72316),C=s(5920);function A(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-item")(2,"ion-label"),t._uU(3,"Full Name :"),t.qZA(),t.TgZ(4,"ion-input",7),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.fullName=o)})("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleFullNameChange(o))}),t.qZA()(),t.TgZ(5,"ion-item")(6,"ion-label"),t._uU(7,"Product Name :"),t.qZA(),t.TgZ(8,"ion-input",7),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.nameofProduct=o)})("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleproductName(o))}),t.qZA()(),t.TgZ(9,"ion-item",8)(10,"ion-label"),t._uU(11,"Start Date :"),t.qZA(),t.TgZ(12,"ion-input",9),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.dateStart=o)})("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleChangeStartDate(o))}),t.qZA()(),t.TgZ(13,"ion-item",8)(14,"ion-label"),t._uU(15,"End Date :"),t.qZA(),t.TgZ(16,"ion-input",9),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.dateEnd=o)})("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleChangeStartDate(o))}),t.qZA()(),t.TgZ(17,"ion-item",10)(18,"ion-buttons",2)(19,"ion-button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.close())}),t._uU(20,"Close"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.fullName),t.xp6(4),t.Q6J("ngModel",e.nameofProduct),t.xp6(4),t.Q6J("ngModel",e.dateStart),t.xp6(4),t.Q6J("ngModel",e.dateEnd)}}function b(i,m){if(1&i&&(t.TgZ(0,"ion-item",12)(1,"ion-avatar",0),t._UZ(2,"img",13),t.qZA(),t.TgZ(3,"ion-label")(4,"h2",14),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()()),2&i){const e=m.$implicit;t.xp6(2),t.Q6J("src",e.ImageUrl,t.LSH),t.xp6(3),t.AsE("",e.ProductName," (",e.Quantity,")"),t.xp6(2),t.Oqu(e.Destination),t.xp6(2),t.Oqu(e.Datetime)}}const P=[{path:"",component:(()=>{class i{constructor(e,n,o,a){this.afauth=e,this.afstore=n,this.alertCtrl=o,this.router=a,this.inventoryList=[],this.inventoryList2=[],this.fullName="",this.nameofProduct="",this.dateStart="",this.dateEnd="",this.retrieveInventoryList()}handleChange(e){const n=e.target.value.toLowerCase();this.onchangeQueryEvent=n}ngOnInit(){}handleFullNameChange(e){this.retrieveInventoryList()}handleproductName(e){this.retrieveInventoryList()}handleChangeStartDate(e){this.retrieveInventoryList()}retrieveInventoryList(){this.afauth.authState.subscribe(e=>{e&&e.uid&&(this.inventoryReference=this.afstore.collection("Inventory"),this.sub=this.inventoryReference.snapshotChanges().pipe((0,_.U)(n=>n.map(o=>Object.assign({id:o.payload.doc.id},o.payload.doc.data())))).subscribe(n=>{if(n=n.map((r,p)=>Object.assign({id:r.id,Datetime:r.Datetime,DatetimeToSort:r.DatetimeToSort,Destination:r.Destination,ImageUrl:r.ImageUrl,read:r.read,Quantity:r.Quantity,UnitPrice:r.UnitPrice,ProductName:r.ProductName})),console.log("the data",n),n=n.sort((r,p)=>Number(p.DatetimeToSort)-Number(r.DatetimeToSort)),""!=this.fullName&&(n=n.filter(r=>r.Destination.toLowerCase().includes(this.fullName.toLowerCase()))),""!=this.nameofProduct&&(n=n.filter(r=>r.ProductName.toLowerCase().includes(this.nameofProduct.toLowerCase()))),""!=this.dateStart&&""!=this.dateEnd){var o=this.dateStart+" 00:00",a=this.dateEnd+" 23:59";n=n.filter(r=>u(u(r.Datetime).format("MM-DD-YYYY hh:mm A")).toDate()>=u(o).toDate()&&u(u(r.Datetime).format("MM-DD-YYYY hh:mm A")).toDate()<=u(a).toDate())}this.inventoryList=n}))})}close(){this.modal.dismiss(),this.fullName=this.fullName,this.nameofProduct=this.nameofProduct,this.dateStart=this.dateStart,this.dateEnd=this.dateEnd}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.zQ),t.Y36(C.ST),t.Y36(l.Br),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admintab3"]],viewQuery:function(e,n){if(1&e&&t.Gf(l.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(n.modal=o.first)}},decls:12,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],["name","search-outline","id","open-modal3",2,"cursor","pointer","zoom","2.0"],["trigger","open-modal3","mode","md",3,"backdropDismiss"],[1,"content"],["lines","none","color","dark",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","ionChange"],["counter","true"],["type","date",3,"ngModel","ngModelChange","ionChange"],["lines","none"],["color","danger",3,"click"],["lines","none","color","dark"],[3,"src"],["text-capitalize",""]],template:function(e,n){1&e&&(t.TgZ(0,"ion-toolbar")(1,"ion-buttons",0),t._UZ(2,"ion-menu-button",1),t.TgZ(3,"ion-title"),t._uU(4,"Inventory"),t.qZA()(),t.TgZ(5,"ion-buttons",2),t._UZ(6,"ion-icon",3),t.qZA()(),t.TgZ(7,"ion-modal",4),t.YNc(8,A,21,4,"ng-template"),t.qZA(),t.TgZ(9,"ion-content",5)(10,"ion-card"),t.YNc(11,b,10,5,"ion-item",6),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("backdropDismiss",!1),t.xp6(4),t.Q6J("ngForOf",n.inventoryList))},dependencies:[h.sg,d.JJ,d.On,l.BJ,l.YG,l.Sm,l.PM,l.W2,l.gu,l.pK,l.Ie,l.Q$,l.fG,l.wd,l.sr,l.ki,l.j9],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background: #69A03A;color:#fff;font-size:20px;line-height:84px}.content[_ngcontent-%COMP%]{--background: url(https://ucarecdn.com/ef6ebea8-39b8-4227-8655-1e2430205c6b/teajointslogonew.jpg) no-repeat center center / cover}"]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(P),g.Bz]}),i})(),v=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,d.u5,l.Pc,M]}),i})()}}]);